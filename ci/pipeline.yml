resources:
- name: concourse-demo
  type: git
  source:
    uri: git@github.com:karafelix/concourse-demo.git
    branch: master
    private_key: {{private-repo-key}}

jobs:
- name: hello-world
  plan:
  - get: concourse-demo
    trigger: true
  - task: say-hello
    file: concourse-demo/ci/tasks/hello.yml

jobs:
- name: goodbye
  plan:
  - get: concourse-demo
    trigger: true
    passed: [hello-world]
  - task: goodbye
    file: concourse-demo/ci/tasks/goodbye.yml
    config:
      params:
        NAME: {{user}}
